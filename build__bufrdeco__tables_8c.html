<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>bufr2synop: src/apps/build_bufrdeco_tables.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">bufr2synop
   &#160;<span id="projectnumber">0.8.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_53adf0b982dc8545998aae3f283a5a58.html">apps</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">build_bufrdeco_tables.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file includes the code for build_bufrdeco_tables binary.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="bufrdeco_8h_source.html">bufrdeco.h</a>&quot;</code><br />
<code>#include &quot;config.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for build_bufrdeco_tables.c:</div>
<div class="dyncontent">
<div class="center"><img src="build__bufrdeco__tables_8c__incl.png" border="0" usemap="#src_2apps_2build__bufrdeco__tables_8c" alt=""/></div>
<map name="src_2apps_2build__bufrdeco__tables_8c" id="src_2apps_2build__bufrdeco__tables_8c">
<area shape="rect" id="node2" href="bufrdeco_8h.html" title="Include header file for bufrdeco library. " alt="" coords="296,95,379,121"/>
</map>
</div>
</div>
<p><a href="build__bufrdeco__tables_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a94898d435d5cba9ef3bc85b9c4dde17f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="build__bufrdeco__tables_8c.html#a94898d435d5cba9ef3bc85b9c4dde17f">CONFIG_H</a></td></tr>
<tr class="separator:a94898d435d5cba9ef3bc85b9c4dde17f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa1187b70998f73cdb598833d6afaa30a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="build__bufrdeco__tables_8c.html#aa1187b70998f73cdb598833d6afaa30a">print_usage</a> (void)</td></tr>
<tr class="separator:aa1187b70998f73cdb598833d6afaa30a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ddf1224851353fc92bfbff6f499fa97"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="build__bufrdeco__tables_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main</a> (int argc, char *argv[])</td></tr>
<tr class="separator:a0ddf1224851353fc92bfbff6f499fa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a326c9c07f0fe308462e9384020bec69e"><td class="memItemLeft" align="right" valign="top">const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="build__bufrdeco__tables_8c.html#a326c9c07f0fe308462e9384020bec69e">SELF</a> [] = &quot;build_bufrdeco_tables&quot;</td></tr>
<tr class="separator:a326c9c07f0fe308462e9384020bec69e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07b8c5d7fa012df1d8065fac116ae9e0"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="build__bufrdeco__tables_8c.html#a07b8c5d7fa012df1d8065fac116ae9e0">INPUT_FILE</a> [256]</td></tr>
<tr class="separator:a07b8c5d7fa012df1d8065fac116ae9e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46c4d08b2d353c323bb02ab3403d09c8"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="build__bufrdeco__tables_8c.html#a46c4d08b2d353c323bb02ab3403d09c8">TABLE_TYPE</a> [8]</td></tr>
<tr class="separator:a46c4d08b2d353c323bb02ab3403d09c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25101502907ec76a18cea9341e0946b2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="build__bufrdeco__tables_8c.html#a25101502907ec76a18cea9341e0946b2">IS_WMO</a></td></tr>
<tr class="separator:a25101502907ec76a18cea9341e0946b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7234edfc676c3c86b94a0ea5456ce456"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="build__bufrdeco__tables_8c.html#a7234edfc676c3c86b94a0ea5456ce456">A_FIELDS</a> [8] = {1,2,-1,-1,-1,-1,-1,-1}</td></tr>
<tr class="separator:a7234edfc676c3c86b94a0ea5456ce456"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64405ebef163d176e4613413bdcba6c7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="build__bufrdeco__tables_8c.html#a64405ebef163d176e4613413bdcba6c7">B_FIELDS</a> [8] = {3,4,5,6,7,8,9,-1}</td></tr>
<tr class="separator:a64405ebef163d176e4613413bdcba6c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a4c3a4825c225e426c6582e15ba697b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="build__bufrdeco__tables_8c.html#a2a4c3a4825c225e426c6582e15ba697b">C_FIELDS</a> [8] = {1,3,4,5,6,7,-1,-1}</td></tr>
<tr class="separator:a2a4c3a4825c225e426c6582e15ba697b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0dba443525a003c6637542056dfe047"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="build__bufrdeco__tables_8c.html#ac0dba443525a003c6637542056dfe047">D_FIELDS</a> [8] = {3,6,-1,-1,-1,-1,-1,-1}</td></tr>
<tr class="separator:ac0dba443525a003c6637542056dfe047"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file includes the code for build_bufrdeco_tables binary. </p>
<p><em>build_bufrdeco_tables</em> is the tool to convert original BUFR files from ECMWF package and WMO machine readable files into the format used by the decode library <em>bufrdeco</em> included in this package. <em>bufrdeco</em> uses BUFR table files in csv format like WMO but supressing some fields from original WMO files.</p>
<p>Because of WMO has not released csv table files for versions prior to 18, it is needed to build them since version 13 using ECMWF table files. Version 13 is backward compatible with prior versions.</p>
<p>Following the ECMWF way to set the CodeFlag tables as C Tables, the original WMO CodeFlag Tables are named as C tables. Original WMO C tables with descriptors operators an A tables are no needed in this package. </p>

<p>Definition in file <a class="el" href="build__bufrdeco__tables_8c_source.html">build_bufrdeco_tables.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a94898d435d5cba9ef3bc85b9c4dde17f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONFIG_H</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="build__bufrdeco__tables_8c_source.html#l00041">41</a> of file <a class="el" href="build__bufrdeco__tables_8c_source.html">build_bufrdeco_tables.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a0ddf1224851353fc92bfbff6f499fa97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="build__bufrdeco__tables_8c_source.html#l00064">64</a> of file <a class="el" href="build__bufrdeco__tables_8c_source.html">build_bufrdeco_tables.c</a>.</p>

<p>References <a class="el" href="build__bufrdeco__tables_8c_source.html#l00048">A_FIELDS</a>, <a class="el" href="build__bufrdeco__tables_8c_source.html#l00049">B_FIELDS</a>, <a class="el" href="bufrdeco__utils_8c_source.html#l00309">bufr_adjust_string()</a>, <a class="el" href="bufrdeco__utils_8c_source.html#l00295">bufr_charray_to_string()</a>, <a class="el" href="bufrdeco_8h_source.html#l00109">BUFR_EXPLAINED_LENGTH</a>, <a class="el" href="bufrdeco_8h_source.html#l00244">bufr_descriptor::c</a>, <a class="el" href="build__bufrdeco__tables_8c_source.html#l00050">C_FIELDS</a>, <a class="el" href="bufrdeco_8h_source.html#l00115">CSV_MAXL</a>, <a class="el" href="bufrdeco__csv_8c_source.html#l00048">csv_quoted_string()</a>, <a class="el" href="build__bufrdeco__tables_8c_source.html#l00051">D_FIELDS</a>, <a class="el" href="bufr2tac_8h_source.html#l00213">bufr2tac_subset_state::i</a>, <a class="el" href="build__bufrdeco__tables_8c_source.html#l00045">INPUT_FILE</a>, <a class="el" href="build__bufrdeco__tables_8c_source.html#l00047">IS_WMO</a>, <a class="el" href="bufrdeco__csv_8c_source.html#l00083">parse_csv_line()</a>, <a class="el" href="build__bufrdeco__tables_8c_source.html#l00053">print_usage()</a>, <a class="el" href="build__bufrdeco__tables_8c_source.html#l00044">SELF</a>, <a class="el" href="build__bufrdeco__tables_8c_source.html#l00046">TABLE_TYPE</a>, and <a class="el" href="bufrdeco__utils_8c_source.html#l00260">uint32_t_to_descriptor()</a>.</p>
<div class="fragment"><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;{</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="keywordtype">int</span> iopt, i, *fs;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  FILE *f;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keywordtype">char</span> lin[<a class="code" href="bufrdeco_8h.html#a3b781b48a5a80506456daf7a914ab2c7">CSV_MAXL</a>], caux[<a class="code" href="bufrdeco_8h.html#a3b781b48a5a80506456daf7a914ab2c7">CSV_MAXL</a>], caux2[32];</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keywordtype">char</span> *tk[16], *c;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="keywordtype">int</span> nt;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  uint32_t ix = 0;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="keywordtype">long</span> <span class="keywordtype">int</span> il;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="keyword">struct </span><a class="code" href="structbufr__descriptor.html">bufr_descriptor</a> desc;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="comment">// Read args</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <a class="code" href="build__bufrdeco__tables_8c.html#a46c4d08b2d353c323bb02ab3403d09c8">TABLE_TYPE</a>[0] = 0;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <a class="code" href="build__bufrdeco__tables_8c.html#a07b8c5d7fa012df1d8065fac116ae9e0">INPUT_FILE</a>[0] = 0;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <a class="code" href="build__bufrdeco__tables_8c.html#a25101502907ec76a18cea9341e0946b2">IS_WMO</a> = 1;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="keywordflow">while</span> ( ( iopt = getopt ( argc, argv, <span class="stringliteral">&quot;hei:t:&quot;</span> ) ) !=-1 )</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">switch</span> ( iopt )</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;i&#39;</span>:</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="keywordflow">if</span> ( strlen ( optarg ) &lt; 256 )</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;          strcpy ( <a class="code" href="build__bufrdeco__tables_8c.html#a07b8c5d7fa012df1d8065fac116ae9e0">INPUT_FILE</a>, optarg );</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;t&#39;</span>:</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <span class="keywordflow">if</span> ( strlen ( optarg ) &lt; 8 )</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;          strcpy ( TABLE_TYPE, optarg );</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;e&#39;</span>:</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;E&#39;</span>:</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <a class="code" href="build__bufrdeco__tables_8c.html#a25101502907ec76a18cea9341e0946b2">IS_WMO</a> = 0;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;h&#39;</span>:</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <a class="code" href="build__bufrdeco__tables_8c.html#aa1187b70998f73cdb598833d6afaa30a">print_usage</a>();</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        exit ( EXIT_SUCCESS );</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      }</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keywordflow">if</span> ( TABLE_TYPE[0] == 0 )</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    {</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      fprintf ( stderr, <span class="stringliteral">&quot;%s: Error. Need to provide Table Type with arg -t\n&quot;</span>, <a class="code" href="build__bufrdeco__tables_8c.html#a326c9c07f0fe308462e9384020bec69e">SELF</a> );</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      exit ( EXIT_FAILURE );</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    }</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="keywordflow">if</span> ( <a class="code" href="build__bufrdeco__tables_8c.html#a07b8c5d7fa012df1d8065fac116ae9e0">INPUT_FILE</a>[0] == 0 )</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;      fprintf ( stderr, <span class="stringliteral">&quot;%s: Error. Need to provide input file with arg -i\n&quot;</span>, <a class="code" href="build__bufrdeco__tables_8c.html#a326c9c07f0fe308462e9384020bec69e">SELF</a> );</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;      exit ( EXIT_FAILURE );</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    }</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keywordflow">if</span> ( ( f = fopen ( <a class="code" href="build__bufrdeco__tables_8c.html#a07b8c5d7fa012df1d8065fac116ae9e0">INPUT_FILE</a>, <span class="stringliteral">&quot;r&quot;</span> ) ) == NULL )</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;      fprintf ( stderr, <span class="stringliteral">&quot;%s: Error. Cannot open file &#39;%s&#39;\n&quot;</span>, <a class="code" href="build__bufrdeco__tables_8c.html#a326c9c07f0fe308462e9384020bec69e">SELF</a>, <a class="code" href="build__bufrdeco__tables_8c.html#a07b8c5d7fa012df1d8065fac116ae9e0">INPUT_FILE</a> );</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      exit ( EXIT_FAILURE );</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    }</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="keywordflow">if</span> ( <a class="code" href="build__bufrdeco__tables_8c.html#a25101502907ec76a18cea9341e0946b2">IS_WMO</a> )</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    {</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      <span class="keywordflow">switch</span> ( TABLE_TYPE[0] )</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        {</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;A&#39;</span>:</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;a&#39;</span>:</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;          fs = &amp; ( <a class="code" href="build__bufrdeco__tables_8c.html#a7234edfc676c3c86b94a0ea5456ce456">A_FIELDS</a>[0] );</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;B&#39;</span>:</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;b&#39;</span>:</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;          fs = &amp; ( <a class="code" href="build__bufrdeco__tables_8c.html#a64405ebef163d176e4613413bdcba6c7">B_FIELDS</a>[0] );</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;C&#39;</span>:</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;c&#39;</span>:</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;          fs = &amp; ( <a class="code" href="build__bufrdeco__tables_8c.html#a2a4c3a4825c225e426c6582e15ba697b">C_FIELDS</a>[0] );</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;D&#39;</span>:</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;d&#39;</span>:</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;          fs = &amp; ( <a class="code" href="build__bufrdeco__tables_8c.html#ac0dba443525a003c6637542056dfe047">D_FIELDS</a>[0] );</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;          fprintf ( stderr, <span class="stringliteral">&quot;%s: Error, bad &#39;%s&#39; table type\n&quot;</span>, <a class="code" href="build__bufrdeco__tables_8c.html#a326c9c07f0fe308462e9384020bec69e">SELF</a>, TABLE_TYPE );</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;          fclose ( f );</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;          exit ( EXIT_FAILURE );</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        }</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      <span class="keywordflow">while</span> ( fgets ( lin, <a class="code" href="bufrdeco_8h.html#a3b781b48a5a80506456daf7a914ab2c7">CSV_MAXL</a>, f ) != NULL )</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;          <span class="comment">// Parse line</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;          <span class="keywordflow">if</span> ( <a class="code" href="bufrdeco_8h.html#a9685dcec12aa968d7146aa55965dda5e">parse_csv_line</a> ( &amp;nt, tk, lin ) &lt; 0 )</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;              fprintf ( stderr, <span class="stringliteral">&quot;%s: Error parsing csv line &#39;%s&#39; from file &#39;%s&#39;\n&quot;</span>, <a class="code" href="build__bufrdeco__tables_8c.html#a326c9c07f0fe308462e9384020bec69e">SELF</a>, lin, <a class="code" href="build__bufrdeco__tables_8c.html#a07b8c5d7fa012df1d8065fac116ae9e0">INPUT_FILE</a> );</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;              fclose ( f );</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;              exit ( EXIT_FAILURE );</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;          i = 0;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;          <span class="keywordflow">while</span> ( fs[i] &gt;= 0 )</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            {</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;              <span class="keywordflow">if</span> ( i &gt; 0 )</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                printf ( <span class="stringliteral">&quot;,&quot;</span> );</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;              <span class="keywordflow">if</span> ( strlen ( tk[fs[i]] ) )</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                printf ( <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="bufrdeco_8h.html#a9b61369e66d3b78fd6ebe99f79f06c1b">csv_quoted_string</a> ( caux, tk[fs[i]] ) );</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;              i++;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            }</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;          printf ( <span class="stringliteral">&quot;\n&quot;</span> );</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        }</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    }</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    {</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      <span class="comment">// Decode ECMWF tables</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      <span class="comment">// first line with the name of fields</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      <span class="keywordflow">switch</span> ( TABLE_TYPE[0] )</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        {</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;B&#39;</span>:</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;b&#39;</span>:</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;          printf ( <span class="stringliteral">&quot;\&quot;FXY\&quot;,\&quot;ElementName_en\&quot;,\&quot;Note_en\&quot;,\&quot;BUFR_Unit\&quot;,\&quot;BUFR_Scale\&quot;,\&quot;BUFR_ReferenceValue\&quot;,\&quot;BUFR_DataWidth_Bits\&quot;\n&quot;</span> );</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;C&#39;</span>:</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;c&#39;</span>:</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;          printf ( <span class="stringliteral">&quot;\&quot;FXY\&quot;,\&quot;CodeFigure\&quot;,\&quot;EntryName_en\&quot;,\&quot;EntryName_sub1_en\&quot;,\&quot;EntryName_sub2_en\&quot;,\&quot;Note_en\&quot;\n&quot;</span> );</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;D&#39;</span>:</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;d&#39;</span>:</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;          printf ( <span class="stringliteral">&quot;\&quot;FXY1\&quot;,\&quot;FXY2\&quot;\n&quot;</span> );</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        }</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      caux[0] = 0;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      <span class="keywordflow">while</span> ( fgets ( lin, <a class="code" href="bufrdeco_8h.html#a3b781b48a5a80506456daf7a914ab2c7">CSV_MAXL</a>, f ) != NULL )</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        {</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;          <span class="comment">// supress the newline</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;          <span class="keywordflow">if</span> ( ( c = strrchr ( lin,<span class="charliteral">&#39;\n&#39;</span> ) ) != NULL )</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            {</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;              *c = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            }</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;          <span class="keywordflow">switch</span> ( TABLE_TYPE[0] )</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            {</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;B&#39;</span>:</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;b&#39;</span>:</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;              <span class="comment">// Descriptor</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;              ix = strtoul ( &amp;lin[0], &amp;c, 10 );</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;              <a class="code" href="bufrdeco_8h.html#a21db34de4334426d1c212ffdabee02cb">uint32_t_to_descriptor</a> ( &amp;desc, ix );</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;              printf ( <span class="stringliteral">&quot;\&quot;%s\&quot;,&quot;</span>, desc.c );</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;              <span class="comment">// detailed name and a void note</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;              <a class="code" href="bufrdeco_8h.html#a454f64137d0cf7e0c4b3e018a52ddd9a">bufr_charray_to_string</a> ( caux, &amp;lin[8], 64 );</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;              <a class="code" href="bufrdeco_8h.html#a86b51c0d7a12669b2664dbba50c5e328">bufr_adjust_string</a> ( caux ); <span class="comment">// supress trailing blanks</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;              printf ( <span class="stringliteral">&quot;\&quot;%s\&quot;,,&quot;</span>, caux );</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;              <span class="comment">// type</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;              <a class="code" href="bufrdeco_8h.html#a454f64137d0cf7e0c4b3e018a52ddd9a">bufr_charray_to_string</a> ( caux ,&amp;lin[73], 24 );</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;              <a class="code" href="bufrdeco_8h.html#a86b51c0d7a12669b2664dbba50c5e328">bufr_adjust_string</a> ( caux );</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;              printf ( <span class="stringliteral">&quot;\&quot;%s\&quot;,&quot;</span>, caux );</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;              <span class="comment">// escale</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;              il = strtol ( &amp;lin[97], &amp;c, 10 );</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;              printf ( <span class="stringliteral">&quot;\&quot;%ld\&quot;,&quot;</span>, il );</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;              <span class="comment">// reference</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;              il = strtol ( &amp;lin[102], &amp;c, 10 );</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;              printf ( <span class="stringliteral">&quot;\&quot;%ld\&quot;,&quot;</span>, il );</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;              <span class="comment">// bits</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;              il = strtol ( &amp;lin[115], &amp;c, 10 );</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;              printf ( <span class="stringliteral">&quot;\&quot;%ld\&quot;\n&quot;</span>, il );</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;C&#39;</span>:</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;c&#39;</span>:</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;              <span class="comment">// write csv line with stored data if finished</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;              <span class="keywordflow">if</span> ( lin[12] != <span class="charliteral">&#39; &#39;</span> &amp;&amp; caux[0] )</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                {</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                  printf ( <span class="stringliteral">&quot;\&quot;%s\&quot;,\&quot;%u\&quot;,\&quot;%s\&quot;,,,\n&quot;</span>, caux2, ix, caux );</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                  caux[0] = 0;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                }</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;              <span class="keywordflow">if</span> ( lin[0] != <span class="charliteral">&#39; &#39;</span> )</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                {</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                  memcpy ( caux2, lin, 6 );</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                  caux2[6] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                }</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;              <span class="keywordflow">if</span> ( lin[12] != <span class="charliteral">&#39; &#39;</span> )</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                  ix = strtol ( lin + 12, &amp;c, 10 );</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                  strcpy ( caux, lin + 24 );</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                }</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;              <span class="keywordflow">else</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                {</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                  <span class="keywordflow">if</span> ( lin[22] != <span class="charliteral">&#39; &#39;</span> )</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                    {</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                      <span class="keywordflow">if</span> ( strlen ( caux ) + strlen ( lin + 22 ) &lt; <a class="code" href="bufrdeco_8h.html#a1ba43c704925a7af6d62ae3a4f8bfe87">BUFR_EXPLAINED_LENGTH</a> )</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                        strcat ( caux, lin + 22 );</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                      <span class="keywordflow">else</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                        {</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                          <span class="comment">// cut the explanation</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                          * ( lin + 22 + <a class="code" href="bufrdeco_8h.html#a1ba43c704925a7af6d62ae3a4f8bfe87">BUFR_EXPLAINED_LENGTH</a> - strlen ( caux ) - 1 ) = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                          strcat ( caux, lin + 22 );</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                        }</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                    }</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                  <span class="keywordflow">else</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                    {</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                      <span class="comment">// this is valid for versions &lt; 15</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                      <span class="keywordflow">if</span> ( strlen ( caux ) + strlen ( lin + 24 ) &lt; <a class="code" href="bufrdeco_8h.html#a1ba43c704925a7af6d62ae3a4f8bfe87">BUFR_EXPLAINED_LENGTH</a> )</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                        strcat ( caux, lin + 24 );</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                      <span class="keywordflow">else</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                        {</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                          <span class="comment">// cut the explanation</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                          * ( lin + 24 + <a class="code" href="bufrdeco_8h.html#a1ba43c704925a7af6d62ae3a4f8bfe87">BUFR_EXPLAINED_LENGTH</a> - strlen ( caux ) - 1 ) = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                          strcat ( caux, lin + 24 );</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                        }</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                    }</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                }</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;D&#39;</span>:</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;d&#39;</span>:</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;              <span class="keywordflow">if</span> ( lin[1] != <span class="charliteral">&#39; &#39;</span> )</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                {</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                  memcpy ( caux2, lin + 1, 6 );</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                  caux2[6] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                }</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;              memcpy ( caux, lin + 11, 6 );</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;              caux[6] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;              printf ( <span class="stringliteral">&quot;\&quot;%s\&quot;,\&quot;%s\&quot;\n&quot;</span>, caux2, caux );</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;              fprintf ( stderr, <span class="stringliteral">&quot;%s: Error, bad &#39;%s&#39; table type\n&quot;</span>, <a class="code" href="build__bufrdeco__tables_8c.html#a326c9c07f0fe308462e9384020bec69e">SELF</a>, TABLE_TYPE );</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;              fclose ( f );</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;              exit ( EXIT_FAILURE );</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            }</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        }</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      <span class="comment">// In case of table C (codeFlag) we still have to write last line</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      <span class="keywordflow">if</span> ( TABLE_TYPE[0] == <span class="charliteral">&#39;C&#39;</span> || TABLE_TYPE[0] == <span class="charliteral">&#39;c&#39;</span> )</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        {</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;          printf ( <span class="stringliteral">&quot;\&quot;%s\&quot;,\&quot;%u\&quot;,\&quot;%s\&quot;,,,\n&quot;</span>, caux2, ix, caux );</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        }</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    }</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  fclose ( f );</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  exit ( EXIT_SUCCESS );</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;}</div><div class="ttc" id="build__bufrdeco__tables_8c_html_a7234edfc676c3c86b94a0ea5456ce456"><div class="ttname"><a href="build__bufrdeco__tables_8c.html#a7234edfc676c3c86b94a0ea5456ce456">A_FIELDS</a></div><div class="ttdeci">int A_FIELDS[8]</div><div class="ttdef"><b>Definition:</b> <a href="build__bufrdeco__tables_8c_source.html#l00048">build_bufrdeco_tables.c:48</a></div></div>
<div class="ttc" id="bufrdeco_8h_html_a86b51c0d7a12669b2664dbba50c5e328"><div class="ttname"><a href="bufrdeco_8h.html#a86b51c0d7a12669b2664dbba50c5e328">bufr_adjust_string</a></div><div class="ttdeci">char * bufr_adjust_string(char *s)</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco__utils_8c_source.html#l00309">bufrdeco_utils.c:309</a></div></div>
<div class="ttc" id="build__bufrdeco__tables_8c_html_ac0dba443525a003c6637542056dfe047"><div class="ttname"><a href="build__bufrdeco__tables_8c.html#ac0dba443525a003c6637542056dfe047">D_FIELDS</a></div><div class="ttdeci">int D_FIELDS[8]</div><div class="ttdef"><b>Definition:</b> <a href="build__bufrdeco__tables_8c_source.html#l00051">build_bufrdeco_tables.c:51</a></div></div>
<div class="ttc" id="build__bufrdeco__tables_8c_html_a64405ebef163d176e4613413bdcba6c7"><div class="ttname"><a href="build__bufrdeco__tables_8c.html#a64405ebef163d176e4613413bdcba6c7">B_FIELDS</a></div><div class="ttdeci">int B_FIELDS[8]</div><div class="ttdef"><b>Definition:</b> <a href="build__bufrdeco__tables_8c_source.html#l00049">build_bufrdeco_tables.c:49</a></div></div>
<div class="ttc" id="build__bufrdeco__tables_8c_html_a46c4d08b2d353c323bb02ab3403d09c8"><div class="ttname"><a href="build__bufrdeco__tables_8c.html#a46c4d08b2d353c323bb02ab3403d09c8">TABLE_TYPE</a></div><div class="ttdeci">char TABLE_TYPE[8]</div><div class="ttdef"><b>Definition:</b> <a href="build__bufrdeco__tables_8c_source.html#l00046">build_bufrdeco_tables.c:46</a></div></div>
<div class="ttc" id="bufrdeco_8h_html_a3b781b48a5a80506456daf7a914ab2c7"><div class="ttname"><a href="bufrdeco_8h.html#a3b781b48a5a80506456daf7a914ab2c7">CSV_MAXL</a></div><div class="ttdeci">#define CSV_MAXL</div><div class="ttdoc">Maximum length in a string to be parsed as csv. </div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00115">bufrdeco.h:115</a></div></div>
<div class="ttc" id="build__bufrdeco__tables_8c_html_a2a4c3a4825c225e426c6582e15ba697b"><div class="ttname"><a href="build__bufrdeco__tables_8c.html#a2a4c3a4825c225e426c6582e15ba697b">C_FIELDS</a></div><div class="ttdeci">int C_FIELDS[8]</div><div class="ttdef"><b>Definition:</b> <a href="build__bufrdeco__tables_8c_source.html#l00050">build_bufrdeco_tables.c:50</a></div></div>
<div class="ttc" id="build__bufrdeco__tables_8c_html_a25101502907ec76a18cea9341e0946b2"><div class="ttname"><a href="build__bufrdeco__tables_8c.html#a25101502907ec76a18cea9341e0946b2">IS_WMO</a></div><div class="ttdeci">int IS_WMO</div><div class="ttdef"><b>Definition:</b> <a href="build__bufrdeco__tables_8c_source.html#l00047">build_bufrdeco_tables.c:47</a></div></div>
<div class="ttc" id="bufrdeco_8h_html_a21db34de4334426d1c212ffdabee02cb"><div class="ttname"><a href="bufrdeco_8h.html#a21db34de4334426d1c212ffdabee02cb">uint32_t_to_descriptor</a></div><div class="ttdeci">int uint32_t_to_descriptor(struct bufr_descriptor *d, uint32_t id)</div><div class="ttdoc">parse an integer with a descriptor fom bufr ECWMF libary </div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco__utils_8c_source.html#l00260">bufrdeco_utils.c:260</a></div></div>
<div class="ttc" id="bufrdeco_8h_html_a454f64137d0cf7e0c4b3e018a52ddd9a"><div class="ttname"><a href="bufrdeco_8h.html#a454f64137d0cf7e0c4b3e018a52ddd9a">bufr_charray_to_string</a></div><div class="ttdeci">char * bufr_charray_to_string(char *s, char *buf, size_t size)</div><div class="ttdoc">get a null termitated c-string from an array of unsigned chars </div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco__utils_8c_source.html#l00295">bufrdeco_utils.c:295</a></div></div>
<div class="ttc" id="bufrdeco_8h_html_a1ba43c704925a7af6d62ae3a4f8bfe87"><div class="ttname"><a href="bufrdeco_8h.html#a1ba43c704925a7af6d62ae3a4f8bfe87">BUFR_EXPLAINED_LENGTH</a></div><div class="ttdeci">#define BUFR_EXPLAINED_LENGTH</div><div class="ttdoc">Maximum length for a explained descriptor. </div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00109">bufrdeco.h:109</a></div></div>
<div class="ttc" id="build__bufrdeco__tables_8c_html_a326c9c07f0fe308462e9384020bec69e"><div class="ttname"><a href="build__bufrdeco__tables_8c.html#a326c9c07f0fe308462e9384020bec69e">SELF</a></div><div class="ttdeci">const char SELF[]</div><div class="ttdef"><b>Definition:</b> <a href="build__bufrdeco__tables_8c_source.html#l00044">build_bufrdeco_tables.c:44</a></div></div>
<div class="ttc" id="bufrdeco_8h_html_a9b61369e66d3b78fd6ebe99f79f06c1b"><div class="ttname"><a href="bufrdeco_8h.html#a9b61369e66d3b78fd6ebe99f79f06c1b">csv_quoted_string</a></div><div class="ttdeci">char * csv_quoted_string(char *out, char *in)</div><div class="ttdoc">Transform a string to a quoted string to be inserted in a csv file. </div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco__csv_8c_source.html#l00048">bufrdeco_csv.c:48</a></div></div>
<div class="ttc" id="build__bufrdeco__tables_8c_html_aa1187b70998f73cdb598833d6afaa30a"><div class="ttname"><a href="build__bufrdeco__tables_8c.html#aa1187b70998f73cdb598833d6afaa30a">print_usage</a></div><div class="ttdeci">void print_usage(void)</div><div class="ttdef"><b>Definition:</b> <a href="build__bufrdeco__tables_8c_source.html#l00053">build_bufrdeco_tables.c:53</a></div></div>
<div class="ttc" id="build__bufrdeco__tables_8c_html_a07b8c5d7fa012df1d8065fac116ae9e0"><div class="ttname"><a href="build__bufrdeco__tables_8c.html#a07b8c5d7fa012df1d8065fac116ae9e0">INPUT_FILE</a></div><div class="ttdeci">char INPUT_FILE[256]</div><div class="ttdef"><b>Definition:</b> <a href="build__bufrdeco__tables_8c_source.html#l00045">build_bufrdeco_tables.c:45</a></div></div>
<div class="ttc" id="structbufr__descriptor_html"><div class="ttname"><a href="structbufr__descriptor.html">bufr_descriptor</a></div><div class="ttdoc">BUFR descriptor. </div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00239">bufrdeco.h:239</a></div></div>
<div class="ttc" id="bufrdeco_8h_html_a9685dcec12aa968d7146aa55965dda5e"><div class="ttname"><a href="bufrdeco_8h.html#a9685dcec12aa968d7146aa55965dda5e">parse_csv_line</a></div><div class="ttdeci">int parse_csv_line(int *nt, char *tk[], char *lin)</div><div class="ttdoc">Parse a csv line. </div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco__csv_8c_source.html#l00083">bufrdeco_csv.c:83</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="build__bufrdeco__tables_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph.png" border="0" usemap="#build__bufrdeco__tables_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph" alt=""/></div>
<map name="build__bufrdeco__tables_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph" id="build__bufrdeco__tables_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph">
<area shape="rect" id="node2" href="bufrdeco_8h.html#a86b51c0d7a12669b2664dbba50c5e328" title="bufr_adjust_string" alt="" coords="117,5,239,32"/>
<area shape="rect" id="node3" href="bufrdeco_8h.html#a454f64137d0cf7e0c4b3e018a52ddd9a" title="get a null termitated c&#45;string from an array of unsigned chars " alt="" coords="105,56,251,83"/>
<area shape="rect" id="node4" href="bufrdeco_8h.html#a9b61369e66d3b78fd6ebe99f79f06c1b" title="Transform a string to a quoted string to be inserted in a csv file. " alt="" coords="115,107,241,133"/>
<area shape="rect" id="node5" href="bufrdeco_8h.html#a9685dcec12aa968d7146aa55965dda5e" title="Parse a csv line. " alt="" coords="125,157,231,184"/>
<area shape="rect" id="node6" href="build__bufrdeco__tables_8c.html#aa1187b70998f73cdb598833d6afaa30a" title="print_usage" alt="" coords="134,208,222,235"/>
<area shape="rect" id="node7" href="bufrdeco_8h.html#a21db34de4334426d1c212ffdabee02cb" title="parse an integer with a descriptor fom bufr ECWMF libary " alt="" coords="104,259,252,285"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa1187b70998f73cdb598833d6afaa30a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print_usage </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="build__bufrdeco__tables_8c_source.html#l00053">53</a> of file <a class="el" href="build__bufrdeco__tables_8c_source.html">build_bufrdeco_tables.c</a>.</p>

<p>References <a class="el" href="build0_2config_8h_source.html#l00057">PACKAGE_VERSION</a>, and <a class="el" href="bufr2synop_8c_source.html#l00095">SELF</a>.</p>

<p>Referenced by <a class="el" href="build__bufrdeco__tables_8c_source.html#l00064">main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;{</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  printf ( <span class="stringliteral">&quot;%s %s\n&quot;</span>, <a class="code" href="build__bufrdeco__tables_8c.html#a326c9c07f0fe308462e9384020bec69e">SELF</a>, <a class="code" href="build0_2config_8h.html#aa326a05d5e30f9e9a4bb0b4469d5d0c0">PACKAGE_VERSION</a> );</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  printf ( <span class="stringliteral">&quot;Usage: \n&quot;</span> );</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  printf ( <span class="stringliteral">&quot;%s -i input_file -t table_type [-e[-h]\n&quot;</span> , <a class="code" href="build__bufrdeco__tables_8c.html#a326c9c07f0fe308462e9384020bec69e">SELF</a> );</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  printf ( <span class="stringliteral">&quot;       -h Print this help\n&quot;</span> );</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  printf ( <span class="stringliteral">&quot;       -e Source ECMWF, default WMO\n&quot;</span> );</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  printf ( <span class="stringliteral">&quot;       -t table_type. (A = TableA, B = TableB, C = CodeFlag, D = TableD)\n&quot;</span> );</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;}</div><div class="ttc" id="build0_2config_8h_html_aa326a05d5e30f9e9a4bb0b4469d5d0c0"><div class="ttname"><a href="build0_2config_8h.html#aa326a05d5e30f9e9a4bb0b4469d5d0c0">PACKAGE_VERSION</a></div><div class="ttdeci">#define PACKAGE_VERSION</div><div class="ttdef"><b>Definition:</b> <a href="build0_2config_8h_source.html#l00057">config.h:57</a></div></div>
<div class="ttc" id="build__bufrdeco__tables_8c_html_a326c9c07f0fe308462e9384020bec69e"><div class="ttname"><a href="build__bufrdeco__tables_8c.html#a326c9c07f0fe308462e9384020bec69e">SELF</a></div><div class="ttdeci">const char SELF[]</div><div class="ttdef"><b>Definition:</b> <a href="build__bufrdeco__tables_8c_source.html#l00044">build_bufrdeco_tables.c:44</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="build__bufrdeco__tables_8c_aa1187b70998f73cdb598833d6afaa30a_icgraph.png" border="0" usemap="#build__bufrdeco__tables_8c_aa1187b70998f73cdb598833d6afaa30a_icgraph" alt=""/></div>
<map name="build__bufrdeco__tables_8c_aa1187b70998f73cdb598833d6afaa30a_icgraph" id="build__bufrdeco__tables_8c_aa1187b70998f73cdb598833d6afaa30a_icgraph">
<area shape="rect" id="node2" href="build__bufrdeco__tables_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="141,5,192,32"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a7234edfc676c3c86b94a0ea5456ce456"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int A_FIELDS[8] = {1,2,-1,-1,-1,-1,-1,-1}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="build__bufrdeco__tables_8c_source.html#l00048">48</a> of file <a class="el" href="build__bufrdeco__tables_8c_source.html">build_bufrdeco_tables.c</a>.</p>

<p>Referenced by <a class="el" href="build__bufrdeco__tables_8c_source.html#l00064">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a64405ebef163d176e4613413bdcba6c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int B_FIELDS[8] = {3,4,5,6,7,8,9,-1}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="build__bufrdeco__tables_8c_source.html#l00049">49</a> of file <a class="el" href="build__bufrdeco__tables_8c_source.html">build_bufrdeco_tables.c</a>.</p>

<p>Referenced by <a class="el" href="build__bufrdeco__tables_8c_source.html#l00064">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a2a4c3a4825c225e426c6582e15ba697b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int C_FIELDS[8] = {1,3,4,5,6,7,-1,-1}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="build__bufrdeco__tables_8c_source.html#l00050">50</a> of file <a class="el" href="build__bufrdeco__tables_8c_source.html">build_bufrdeco_tables.c</a>.</p>

<p>Referenced by <a class="el" href="build__bufrdeco__tables_8c_source.html#l00064">main()</a>.</p>

</div>
</div>
<a class="anchor" id="ac0dba443525a003c6637542056dfe047"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int D_FIELDS[8] = {3,6,-1,-1,-1,-1,-1,-1}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="build__bufrdeco__tables_8c_source.html#l00051">51</a> of file <a class="el" href="build__bufrdeco__tables_8c_source.html">build_bufrdeco_tables.c</a>.</p>

<p>Referenced by <a class="el" href="build__bufrdeco__tables_8c_source.html#l00064">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a07b8c5d7fa012df1d8065fac116ae9e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char INPUT_FILE[256]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="build__bufrdeco__tables_8c_source.html#l00045">45</a> of file <a class="el" href="build__bufrdeco__tables_8c_source.html">build_bufrdeco_tables.c</a>.</p>

<p>Referenced by <a class="el" href="build__bufrdeco__tables_8c_source.html#l00064">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a25101502907ec76a18cea9341e0946b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int IS_WMO</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="build__bufrdeco__tables_8c_source.html#l00047">47</a> of file <a class="el" href="build__bufrdeco__tables_8c_source.html">build_bufrdeco_tables.c</a>.</p>

<p>Referenced by <a class="el" href="build__bufrdeco__tables_8c_source.html#l00064">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a326c9c07f0fe308462e9384020bec69e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char SELF[] = &quot;build_bufrdeco_tables&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The name of this binary </p>

<p>Definition at line <a class="el" href="build__bufrdeco__tables_8c_source.html#l00044">44</a> of file <a class="el" href="build__bufrdeco__tables_8c_source.html">build_bufrdeco_tables.c</a>.</p>

<p>Referenced by <a class="el" href="build__bufrdeco__tables_8c_source.html#l00064">main()</a>, and <a class="el" href="build__bufrdeco__tables_8c_source.html#l00053">print_usage()</a>.</p>

</div>
</div>
<a class="anchor" id="a46c4d08b2d353c323bb02ab3403d09c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char TABLE_TYPE[8]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="build__bufrdeco__tables_8c_source.html#l00046">46</a> of file <a class="el" href="build__bufrdeco__tables_8c_source.html">build_bufrdeco_tables.c</a>.</p>

<p>Referenced by <a class="el" href="build__bufrdeco__tables_8c_source.html#l00064">main()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
